/*
Copyright(c) 2012 Company Name
*/
Ext.define("Views.HeaderController.HeaderController",{extend:"Viewer.base.Controller",requires:["Views.HeaderController.store.HeaderControllerStore","Views.HeaderController.view.HeaderControllerView"],constructor:function(a){console.log("HeaderController::constructor");if(a){if(a.config&&a.viewDir){this.configUrl=a.viewDir+a.config;this.initStore()}else{console.error("HeaderController::constructor: config is missing needed parameters")}}else{console.error("HeaderController::constructor: config is undefined")}this.callParent(a)},initStore:function(){this.store=Ext.create("Views.HeaderController.store.HeaderControllerStore",{proxy:{type:"ajax",url:this.configUrl,reader:{type:"json",root:"configuration"}},autoLoad:true});this.store.on("load",this.onStoreLoad,this)},onStoreLoad:function(){this.init()},init:function(){console.log("HeaderController::init");this.initHeaderControllerView()},initHeaderControllerView:function(){console.log("HeaderController::initHeaderControllerView");var a=this.getStoreData();if(a){a.eventBus=this.getEventBus();if(a.eventBus){this.headerControllerView=Ext.create("Views.HeaderController.view.HeaderControllerView",a);this.headerControllerView.on("show",this.onViewShow,this);this.headerControllerView.show()}}},onViewShow:function(){},getStoreData:function(){var a=this.getStore();if(a){return a.getHeaderControllerStoreData()}return false}});Ext.define("Views.HeaderController.model.HeaderControllerModel",{extend:"ICD.Ext.data.Model",fields:[{name:"about",type:"object"}]});Ext.define("Views.HeaderController.store.HeaderControllerStore",{extend:"ICD.Ext.data.Store",requires:["Views.HeaderController.model.HeaderControllerModel"],model:"Views.HeaderController.model.HeaderControllerModel",getHeaderControllerStoreData:function(){var a;if(this.getAt(0)&&this.getAt(0).getData()){a=this.getAt(0).getData()}else{console.error("HeaderControllerStore::getHeaderControllerStoreData: There is no data in the HeaderControllerStore")}return a}});Ext.define("Views.HeaderController.view.HeaderControllerView",{extend:"ICD.Ext.toolbar.Toolbar",alias:"widget.headerControllerView",renderTo:document.body,width:500,items:[{text:"Button"},{xtype:"splitbutton",text:"Split Button"},"->",{xtype:"textfield",name:"field1",emptyText:"enter search term"},"-","text 1",{xtype:"tbspacer"},"text 2",{xtype:"tbspacer",width:50},"text 3"]});
