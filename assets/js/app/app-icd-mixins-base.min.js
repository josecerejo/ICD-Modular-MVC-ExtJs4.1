/*
Copyright(c) 2012 Company Name
*/
Ext.define("ICD.mixins.BaseMixin",{mixins:{consoleMixin:"ICD.mixins.ConsoleMixin",eventMixin:"ICD.mixins.EventMixin"},initConstructors:function(){if(this.mixins.consoleMixin.constructor){this.mixins.consoleMixin.constructor()}if(this.mixins.eventMixin.constructor){this.mixins.eventMixin.constructor()}}});Ext.define("ICD.mixins.ConsoleMixin",{logMessage:function(a){Ext.log({msg:a,level:"log"})},logError:function(a){Ext.log({msg:a,level:"error"})},logInfo:function(a){Ext.log({msg:a,level:"info"})},logWarning:function(a){Ext.log({msg:a,level:"warn"})},logDump:function(a,b){b=(b)?b:"";Ext.log({dump:a,msg:b,level:"log"})}});Ext.define("ICD.mixins.EventMixin",{bindings:[],constructor:function(a){var b=this;Ext.EventManager.on(window,"beforeunload",this.onWindowBeforeUnload,this);Ext.EventManager.on(window,"unload",this.onWindowUnload,this)},onWindowBeforeUnload:function(){this.dispose()},onWindowUnload:function(){this.dispose()},bindTo:function(b,a){b.on(a);this.bindings.push({object:b,config:a})},unbind:function(b,a){for(var c=0;c<this.bindings.length;c++){if(b==this.bindings[c].object&&this.bindings[c].config[a]!=undefined){b.un(this.bindings[c].config);break}}},unbindFromAll:function(){Ext.Array.forEach(this.bindings,function(a){a.object.un(a.config)});this.bindings=[]},dispose:function(){this.unbindFromAll();if(this.clearListeners){this.clearListeners()}if(this.destroy){this.destroy()}},exists:function(a){}});Ext.define("ICD.BaseController",{extend:"ICD.Ext.app.Controller",requires:["ICD.mixins.BaseMixin"],mixins:{baseMixin:"ICD.mixins.BaseMixin"},constructor:function(a){this.logMessage("BaseController::constructor");this.initConstructors();this.callParent(a)}});Ext.define("ICD.BaseModel",{extend:"ICD.Ext.data.Model",requires:["ICD.mixins.BaseMixin"],mixins:{baseMixin:"ICD.mixins.BaseMixin"}});Ext.define("ICD.BaseStore",{extend:"ICD.Ext.data.Store",requires:["ICD.mixins.BaseMixin"],mixins:{baseMixin:"ICD.mixins.BaseMixin"}});Ext.define("ICD.BaseView",{requires:["ICD.mixins.BaseMixin"],mixins:{baseMixin:"ICD.mixins.BaseMixin"},statics:{prepareClass:function(){if(this.prototype.mixins.baseMixin&&this.prototype.mixins.baseMixin.constructor){this.prototype.mixins.baseMixin.constructor()}}}},function(){var a=this;var b=function(c){var d=c.prototype;a.prepareClass(c,this);c.onExtended(function(e){a.prepareClass(e)});if(d.onClassMixedIn){Ext.override(c,{onClassMixedIn:function(e){b.call(this,e);this.callParent(arguments)}})}else{d.onClassMixedIn=function(e){b.call(this,e)}}};Ext.apply(ICD.BaseView.prototype,{onClassMixedIn:b})});
